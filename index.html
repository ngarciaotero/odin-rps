<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Rock Papper Scissor</title>
  </head>
  <body>
    <button>Rock</button>
    <button>Paper</button>
    <button>Scissors</button>
    <script>
      const selectionBtns = document.querySelectorAll("button");

      selectionBtns.forEach((button) => {
        button.addEventListener("click", () => {
          const playerSelection = getPlayerSelection(button.textContent);
          const computerSelection = getComputerSelection();
          console.log(playRound(playerSelection, computerSelection));
        });
      });

      function getPlayerSelection(selection) {
        return selection.toLowerCase();
      }

      function getComputerChoice() {
        let variable = ["rock", "paper", "scissors"];
        computerChoice = variable[Math.floor(Math.random() * 3)];
        return computerChoice;
      }

      function determineWinner(playerScore, computerScore) {
        if (playerScore > computerScore) {
          console.log("Player is winner!");
        } else if (playerScore < computerScore) {
          console.log("Computer is winner!");
        } else {
          console.log("Player and Computer tied!");
        }
      }

      function playRound(playerSelection, computerSelection) {
        if (
          (playerSelection === "scissors" && computerSelection === "paper") ||
          (playerSelection === "paper" && computerSelection === "scissors")
        ) {
          return "You Lose! Scissors beats Paper";
        } else if (
          (playerSelection === "paper" && computerSelection === "rock") ||
          (playerSelection === "rock" && computerSelection === "paper")
        ) {
          return "You Lose! Paper beats Rock";
        } else if (
          (playerSelection === "rock" && computerSelection === "scissors") ||
          (playerSelection === "scissors" && computerSelection === "rock")
        ) {
          return "You Lose! Rock beats Scissor";
        } else {
          return "It's a tie";
        }
      }

      function game() {
        let playerScore = 0;
        let computerScore = 0;

        let roundNumbers = +prompt("How many rounds do you want to play?", 5);

        for (let i = 0; i <= roundNumbers; i++) {
          let playerSelection = getPlayerChoice();
          let computerSelection = getComputerChoice();

          let currentRound = playRound(playerSelection, computerSelection);

          if (currentRound === "You Lose! Scissors beats Paper") {
            if (playerSelection === "scissors") {
              playerScore++;
            } else {
              computerScore++;
            }
          } else if (currentRound === "You Lose! Paper beats Rock") {
            if (playerSelection === "paper") {
              playerScore++;
            } else {
              computerScore++;
            }
          } else if (currentRound === "You Lose! Rock beats Scissor") {
            if (playerSelection === "rock") {
              playerScore++;
            } else {
              computerScore++;
            }
          }
          console.log(currentRound);
        }

        determineWinner(playerScore, computerScore);
      }
    </script>
  </body>
</html>
